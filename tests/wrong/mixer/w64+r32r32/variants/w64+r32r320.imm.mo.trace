Error detected: Safety violation!
Event (0, 6) in graph:
<-1, 0> main:
	(0, 0): B
	(0, 1): TC [forks 1] L.43
	(0, 2): TC [forks 2] L.45
	(0, 3): TJ L.48
	(0, 4): TJ L.50
	(0, 5): Rna (a, 1) [(2, 2)] L.53
	(0, 6): Rna (b, 0) [(2, 4)] L.53
<0, 1> thread_1:
	(1, 0): B
	(1, 1): Wrlx (x..val, 8589934593) L.28
	(1, 2): E
<0, 2> thread_2:
	(2, 0): B
	(2, 1): Rrlx (x..val, 1) [(1, 1)] L.34
	(2, 2): Wna (a, 1) L.34
	(2, 3): Rrlx (x..val, 0) [INIT] L.35
	(2, 4): Wna (b, 0) L.35
	(2, 5): E

Trace to (0, 6):
[main] w64+r32r320.c: 43: if (pthread_create(&t1, NULL, thread_1, NULL))
[thread_1] w64+r32r320.c: 28: atomic_store_explicit(&x.val, 0x0000000200000001, rlx);
[thread_1] w64+r32r320.c: 29: return NULL;
[thread_2] w64+r32r320.c: 34: a = atomic_load_explicit(&x.lower, rlx);
[thread_2] w64+r32r320.c: 34: a = atomic_load_explicit(&x.lower, rlx);
[thread_2] w64+r32r320.c: 35: b = atomic_load_explicit(&x.upper, rlx);;
[thread_2] w64+r32r320.c: 35: b = atomic_load_explicit(&x.upper, rlx);;
[thread_2] w64+r32r320.c: 36: return NULL;
[main] w64+r32r320.c: 50: if (pthread_join(t2, NULL))
[main] w64+r32r320.c: 53: assert(!(a == 1 && b == 0));
[main] w64+r32r320.c: 53: assert(!(a == 1 && b == 0));
Assertion violation: !(a == 1 && b == 0)
Number of complete executions explored: 1
Number of blocked executions seen: 1
